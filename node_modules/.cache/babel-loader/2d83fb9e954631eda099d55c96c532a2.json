{"ast":null,"code":"var _jsxFileName = \"/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/views/Sidebar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Avatar } from \"@material-ui/core\";\nimport { ExpandMore, Add, Mic, Settings, Headset } from \"@material-ui/icons\";\nimport CanalEnSidebar from \"../components/CanalEnSidebar\";\nimport firebaseApp from \"../firebase/credenciales\";\nimport { getFirestore, collection, doc, setDoc, getDocs } from \"firebase/firestore\";\nimport { getAuth, signOut } from \"firebase/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst firestore = getFirestore(firebaseApp);\nconst auth = getAuth(firebaseApp);\n\nfunction Sidebar(_ref) {\n  _s();\n\n  let {\n    usuarioGlobal,\n    setCanalActivo\n  } = _ref;\n  const [listaCanales, setListaCanales] = useState([]);\n\n  async function getCanales() {\n    const canalesArr = [];\n    const collectionRef = collection(firestore, \"canales\");\n    const canalesCifrados = await getDocs(collectionRef);\n    canalesCifrados.forEach(canalCifrado => {\n      canalesArr.push(canalCifrado.data());\n    });\n    setListaCanales(canalesArr);\n  }\n\n  function agregarCanal() {\n    const nombreCanal = prompt(\"¿Cuál es el nombre del canal?\");\n\n    if (nombreCanal) {\n      const docuRef = doc(firestore, `canales/${nombreCanal}`);\n      setDoc(docuRef, {\n        id: new Date().getTime(),\n        nombre: nombreCanal\n      });\n      getCanales();\n    }\n  }\n\n  useEffect(() => {\n    getCanales();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sidebar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar__top\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \" Servidor de Game World\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ExpandMore, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar__channels\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar__channelsHeader\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar__header\",\n          children: [/*#__PURE__*/_jsxDEV(ExpandMore, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Canales de texto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Add, {\n          className: \"sidebar__addChannel\",\n          onClick: agregarCanal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar__channelsList\",\n        children: listaCanales ? listaCanales.map(canal => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => setCanalActivo(canal.nombre),\n            children: /*#__PURE__*/_jsxDEV(CanalEnSidebar, {\n              nombre: canal.nombre,\n              id: canal.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 19\n          }, this);\n        }) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar__profile\",\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        src: usuarioGlobal.photoURL\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar__profileInfo\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: usuarioGlobal.displayName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [usuarioGlobal.uid.substring(0, 4), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar__profileIcons\",\n        children: [/*#__PURE__*/_jsxDEV(Mic, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Headset, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Settings, {\n          onClick: () => signOut(auth)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Sidebar, \"rSigxU27Ju1XBjl4OR9KJBXDc6w=\");\n\n_c = Sidebar;\nexport default Sidebar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"names":["React","useState","useEffect","Avatar","ExpandMore","Add","Mic","Settings","Headset","CanalEnSidebar","firebaseApp","getFirestore","collection","doc","setDoc","getDocs","getAuth","signOut","firestore","auth","Sidebar","usuarioGlobal","setCanalActivo","listaCanales","setListaCanales","getCanales","canalesArr","collectionRef","canalesCifrados","forEach","canalCifrado","push","data","agregarCanal","nombreCanal","prompt","docuRef","id","Date","getTime","nombre","map","canal","photoURL","displayName","uid","substring"],"sources":["/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/views/Sidebar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport { Avatar } from \"@material-ui/core\";\nimport { ExpandMore, Add, Mic, Settings, Headset } from \"@material-ui/icons\";\n\nimport CanalEnSidebar from \"../components/CanalEnSidebar\";\n\nimport firebaseApp from \"../firebase/credenciales\";\nimport {\n  getFirestore,\n  collection,\n  doc,\n  setDoc,\n  getDocs,\n} from \"firebase/firestore\";\nimport { getAuth, signOut } from \"firebase/auth\";\nconst firestore = getFirestore(firebaseApp);\nconst auth = getAuth(firebaseApp);\n\nfunction Sidebar({ usuarioGlobal, setCanalActivo }) {\n  const [listaCanales, setListaCanales] = useState([]);\n\n  async function getCanales() {\n    const canalesArr = [];\n    const collectionRef = collection(firestore, \"canales\");\n    const canalesCifrados = await getDocs(collectionRef);\n    canalesCifrados.forEach((canalCifrado) => {\n      canalesArr.push(canalCifrado.data());\n    });\n\n    setListaCanales(canalesArr);\n  }\n\n  function agregarCanal() {\n    const nombreCanal = prompt(\"¿Cuál es el nombre del canal?\");\n    if (nombreCanal) {\n      const docuRef = doc(firestore, `canales/${nombreCanal}`);\n      setDoc(docuRef, {\n        id: new Date().getTime(),\n        nombre: nombreCanal,\n      });\n\n      getCanales();\n    }\n  }\n\n  useEffect(() => {\n    getCanales();\n  }, []);\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar__top\">\n        <h3> Servidor de Game World</h3>\n        <ExpandMore />\n      </div>\n\n      <div className=\"sidebar__channels\">\n        <div className=\"sidebar__channelsHeader\">\n          <div className=\"sidebar__header\">\n            <ExpandMore />\n            <h4>Canales de texto</h4>\n          </div>\n\n          <Add className=\"sidebar__addChannel\" onClick={agregarCanal} />\n        </div>\n\n        <div className=\"sidebar__channelsList\">\n          {listaCanales\n            ? listaCanales.map((canal) => {\n                return (\n                  <div onClick={() => setCanalActivo(canal.nombre)}>\n                    <CanalEnSidebar nombre={canal.nombre} id={canal.id} />\n                  </div>\n                );\n              })\n            : null}\n        </div>\n      </div>\n\n      <div className=\"sidebar__profile\">\n        <Avatar src={usuarioGlobal.photoURL} />\n        <div className=\"sidebar__profileInfo\">\n          <h3>{usuarioGlobal.displayName}</h3>\n          <p>{usuarioGlobal.uid.substring(0, 4)} </p>\n        </div>\n        <div className=\"sidebar__profileIcons\">\n          <Mic />\n          <Headset />\n          <Settings onClick={() => signOut(auth)} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Sidebar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}