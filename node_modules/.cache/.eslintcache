[{"C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\index.js":"1","C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\App.js":"2","C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\views\\Sidebar.js":"3","C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\views\\Login.js":"4","C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\firebase\\credenciales.js":"5","C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\views\\ChatScreen.js":"6","C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\components\\CanalEnSidebar.js":"7","C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\components\\EncabezadoChat.js":"8","C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\components\\Mensaje.js":"9"},{"size":273,"mtime":1663346124584,"results":"10","hashOfConfig":"11"},{"size":1130,"mtime":1663346124580,"results":"12","hashOfConfig":"11"},{"size":2625,"mtime":1663346124588,"results":"13","hashOfConfig":"11"},{"size":655,"mtime":1663346124587,"results":"14","hashOfConfig":"11"},{"size":680,"mtime":1663346124583,"results":"15","hashOfConfig":"11"},{"size":2971,"mtime":1663346124587,"results":"16","hashOfConfig":"11"},{"size":278,"mtime":1663346124581,"results":"17","hashOfConfig":"11"},{"size":598,"mtime":1663346124581,"results":"18","hashOfConfig":"11"},{"size":548,"mtime":1663346124582,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1hhzl5g",{"filePath":"22","messages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\index.js",[],"C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\App.js",[],"C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\views\\Sidebar.js",["40","41"],"import React, { useState, useEffect } from \"react\";\r\n\r\nimport { Avatar } from \"@material-ui/core\";\r\nimport { ExpandMore, Add, Mic, Settings, Headset } from \"@material-ui/icons\";\r\n\r\nimport CanalEnSidebar from \"../components/CanalEnSidebar\";\r\n\r\nimport firebaseApp from \"../firebase/credenciales\";\r\nimport {\r\n  getFirestore,\r\n  collection,\r\n  doc,\r\n  setDoc,\r\n  getDocs,\r\n} from \"firebase/firestore\";\r\nimport { getAuth, signOut } from \"firebase/auth\";\r\nconst firestore = getFirestore(firebaseApp);\r\nconst auth = getAuth(firebaseApp);\r\n\r\nfunction Sidebar({ usuarioGlobal, setCanalActivo }) {\r\n  const [listaCanales, setListaCanales] = useState([]);\r\n\r\n  async function getCanales() {\r\n    const canalesArr = [];\r\n    const collectionRef = collection(firestore, \"canales\");\r\n    const canalesCifrados = await getDocs(collectionRef);\r\n    canalesCifrados.forEach((canalCifrado) => {\r\n      canalesArr.push(canalCifrado.data());\r\n    });\r\n\r\n    setListaCanales(canalesArr);\r\n  }\r\n\r\n  function agregarCanal() {\r\n    const nombreCanal = prompt(\"¿Cuál es el nombre del canal?\");\r\n    if (nombreCanal) {\r\n      const docuRef = doc(firestore, `canales/${nombreCanal}`);\r\n      setDoc(docuRef, {\r\n        id: new Date().getTime(),\r\n        nombre: nombreCanal,\r\n      });\r\n\r\n      getCanales();\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getCanales();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"sidebar__top\">\r\n        <h3> Servidor de Game World</h3>\r\n        <ExpandMore />\r\n      </div>\r\n\r\n      <div className=\"sidebar__channels\">\r\n        <div className=\"sidebar__channelsHeader\">\r\n          <div className=\"sidebar__header\">\r\n            <ExpandMore />\r\n            <h4>Canales de texto</h4>\r\n          </div>\r\n\r\n          <Add className=\"sidebar__addChannel\" onClick={agregarCanal} />\r\n        </div>\r\n\r\n        <div className=\"sidebar__channelsList\">\r\n          {listaCanales\r\n            ? listaCanales.map((canal) => {\r\n                return (\r\n                  <div onClick={() => setCanalActivo(canal.nombre)}>\r\n                    <CanalEnSidebar nombre={canal.nombre} id={canal.id} />\r\n                  </div>\r\n                );\r\n              })\r\n            : null}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"sidebar__profile\">\r\n        <Avatar src={usuarioGlobal.photoURL} />\r\n        <div className=\"sidebar__profileInfo\">\r\n          <h3>{usuarioGlobal.displayName}</h3>\r\n        </div>\r\n        <div className=\"sidebar__profileIcons\">\r\n          <Settings onClick={() => signOut(auth)} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sidebar;\r\n","C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\views\\Login.js",[],"C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\firebase\\credenciales.js",[],"C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\views\\ChatScreen.js",["42","43","44","45","46"],"import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport { AddCircle, CreditCard, Gif, EmojiEmotions } from \"@material-ui/icons\";\r\nimport EncabezadoChat from \"../components/EncabezadoChat\";\r\nimport Mensaje from \"../components/Mensaje\";\r\n\r\nimport firebaseApp from \"../firebase/credenciales\";\r\nimport {\r\n  getFirestore,\r\n  doc,\r\n  setDoc,\r\n  collection,\r\n  getDocs,\r\n} from \"firebase/firestore\";\r\nconst firestore = getFirestore(firebaseApp);\r\n\r\nfunction ChatScreen({ canalActivo, usuario }) {\r\n  const [inputMensaje, setInputMensaje] = useState(\"\");\r\n  const [listaMensajes, setListaMensajes] = useState([]);\r\n\r\n  const anchor = useRef();\r\n\r\n  function filtrarContenido(textoOriginal) {\r\n    const noOK = [\"tonto\", \"hdp\", \"mk\"];\r\n\r\n    const array = textoOriginal.split(\" \");\r\n    array.forEach((palabra, index) => {\r\n      if (noOK.includes(palabra)) {\r\n        array[index] = \"****\";\r\n      }\r\n    });\r\n\r\n    return array.join(\" \");\r\n  }\r\n\r\n  function enviarMensaje(e) {\r\n    e.preventDefault();\r\n    const docuRef = doc(\r\n      firestore,\r\n      `canales/${canalActivo}/mensajes/${new Date().getTime()}`\r\n    );\r\n\r\n    const mensajeFiltrado = filtrarContenido(inputMensaje);\r\n\r\n    setDoc(docuRef, {\r\n      foto: usuario.photoURL,\r\n      usuario: usuario.displayName,\r\n      mensaje: mensajeFiltrado,\r\n      id: new Date().getTime(),\r\n    });\r\n\r\n    setInputMensaje(\"\");\r\n    getListaMensajes();\r\n    anchor.current.scrollIntoView({ behavior: \"smooth\" });\r\n  }\r\n\r\n  async function getListaMensajes() {\r\n    const mensajesArr = [];\r\n\r\n    const coleccionRef = collection(\r\n      firestore,\r\n      `canales/${canalActivo}/mensajes`\r\n    );\r\n    const mensajesJeroglificos = await getDocs(coleccionRef);\r\n    mensajesJeroglificos.forEach((mensaje) => {\r\n      mensajesArr.push(mensaje.data());\r\n    });\r\n\r\n    setListaMensajes([...mensajesArr]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getListaMensajes();\r\n  }, [canalActivo]);\r\n\r\n  return (\r\n    <div className=\"chat\">\r\n      <EncabezadoChat nombreCanal={canalActivo} />\r\n\r\n      <div className=\"chat__messages\">\r\n        {listaMensajes\r\n          ? listaMensajes.map((mensaje) => {\r\n              return <Mensaje mensajeFirebase={mensaje} key={mensaje.id} />;\r\n            })\r\n          : null}\r\n        <div ref={anchor} style={{ marginBottom: \"75px\" }}></div>\r\n      </div>\r\n\r\n      <div className=\"chat__input\">\r\n        <form onSubmit={enviarMensaje}>\r\n          <input\r\n            type=\"text\"\r\n            disabled={canalActivo ? false : true}\r\n            value={inputMensaje}\r\n            onChange={(e) => setInputMensaje(e.target.value)}\r\n            placeholder={`Enviar mensaje a # ${canalActivo || \"\"}`}\r\n          />\r\n          <button\r\n            disabled={canalActivo ? false : true}\r\n            className=\"chat__inputButton\"\r\n            type=\"submit\"\r\n          >\r\n            Enviar Mensaje\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatScreen;\r\n","C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\components\\CanalEnSidebar.js",[],"C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\components\\EncabezadoChat.js",[],"C:\\Users\\Misty\\Desktop\\AGOSTO\\chat-firebase-react\\src\\components\\Mensaje.js",[],{"ruleId":"47","severity":1,"message":"48","line":4,"column":27,"nodeType":"49","messageId":"50","endLine":4,"endColumn":30},{"ruleId":"47","severity":1,"message":"51","line":4,"column":42,"nodeType":"49","messageId":"50","endLine":4,"endColumn":49},{"ruleId":"47","severity":1,"message":"52","line":3,"column":10,"nodeType":"49","messageId":"50","endLine":3,"endColumn":19},{"ruleId":"47","severity":1,"message":"53","line":3,"column":21,"nodeType":"49","messageId":"50","endLine":3,"endColumn":31},{"ruleId":"47","severity":1,"message":"54","line":3,"column":33,"nodeType":"49","messageId":"50","endLine":3,"endColumn":36},{"ruleId":"47","severity":1,"message":"55","line":3,"column":38,"nodeType":"49","messageId":"50","endLine":3,"endColumn":51},{"ruleId":"56","severity":1,"message":"57","line":74,"column":6,"nodeType":"58","endLine":74,"endColumn":19,"suggestions":"59"},"no-unused-vars","'Mic' is defined but never used.","Identifier","unusedVar","'Headset' is defined but never used.","'AddCircle' is defined but never used.","'CreditCard' is defined but never used.","'Gif' is defined but never used.","'EmojiEmotions' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getListaMensajes'. Either include it or remove the dependency array.","ArrayExpression",["60"],{"desc":"61","fix":"62"},"Update the dependencies array to be: [canalActivo, getListaMensajes]",{"range":"63","text":"64"},[1916,1929],"[canalActivo, getListaMensajes]"]