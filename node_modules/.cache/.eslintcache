[{"/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/index.js":"1","/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/App.js":"2","/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/views/Sidebar.js":"3","/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/views/Login.js":"4","/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/views/ChatScreen.js":"5","/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/firebase/credenciales.js":"6","/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/components/CanalEnSidebar.js":"7","/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/components/Mensaje.js":"8","/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/components/EncabezadoChat.js":"9","/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/index.js":"10","/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/App.js":"11","/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/views/Login.js":"12","/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/views/ChatScreen.js":"13","/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/views/Sidebar.js":"14","/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/firebase/credenciales.js":"15","/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/components/EncabezadoChat.js":"16","/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/components/Mensaje.js":"17","/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/components/CanalEnSidebar.js":"18"},{"size":261,"mtime":1661705014000,"results":"19","hashOfConfig":"20"},{"size":1087,"mtime":1661705014000,"results":"21","hashOfConfig":"20"},{"size":2531,"mtime":1662847252920,"results":"22","hashOfConfig":"20"},{"size":631,"mtime":1661705014000,"results":"23","hashOfConfig":"20"},{"size":2860,"mtime":1662865174484,"results":"24","hashOfConfig":"20"},{"size":663,"mtime":1662733101968,"results":"25","hashOfConfig":"20"},{"size":264,"mtime":1661705014000,"results":"26","hashOfConfig":"20"},{"size":524,"mtime":1662857377243,"results":"27","hashOfConfig":"20"},{"size":572,"mtime":1662855052102,"results":"28","hashOfConfig":"20"},{"size":261,"mtime":1661705014000,"results":"29","hashOfConfig":"30"},{"size":1087,"mtime":1661705014000,"results":"31","hashOfConfig":"30"},{"size":631,"mtime":1661705014000,"results":"32","hashOfConfig":"30"},{"size":2860,"mtime":1662865174484,"results":"33","hashOfConfig":"30"},{"size":2531,"mtime":1662847252920,"results":"34","hashOfConfig":"30"},{"size":663,"mtime":1662733101968,"results":"35","hashOfConfig":"30"},{"size":572,"mtime":1662855052102,"results":"36","hashOfConfig":"30"},{"size":524,"mtime":1662857377243,"results":"37","hashOfConfig":"30"},{"size":264,"mtime":1661705014000,"results":"38","hashOfConfig":"30"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},"1uhxw73",{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"41"},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"dnnpq7",{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67"},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46"},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/index.js",[],["78","79"],"/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/App.js",[],"/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/views/Sidebar.js",["80","81"],"import React, { useState, useEffect } from \"react\";\n\nimport { Avatar } from \"@material-ui/core\";\nimport { ExpandMore, Add, Mic, Settings, Headset } from \"@material-ui/icons\";\n\nimport CanalEnSidebar from \"../components/CanalEnSidebar\";\n\nimport firebaseApp from \"../firebase/credenciales\";\nimport {\n  getFirestore,\n  collection,\n  doc,\n  setDoc,\n  getDocs,\n} from \"firebase/firestore\";\nimport { getAuth, signOut } from \"firebase/auth\";\nconst firestore = getFirestore(firebaseApp);\nconst auth = getAuth(firebaseApp);\n\nfunction Sidebar({ usuarioGlobal, setCanalActivo }) {\n  const [listaCanales, setListaCanales] = useState([]);\n\n  async function getCanales() {\n    const canalesArr = [];\n    const collectionRef = collection(firestore, \"canales\");\n    const canalesCifrados = await getDocs(collectionRef);\n    canalesCifrados.forEach((canalCifrado) => {\n      canalesArr.push(canalCifrado.data());\n    });\n\n    setListaCanales(canalesArr);\n  }\n\n  function agregarCanal() {\n    const nombreCanal = prompt(\"¿Cuál es el nombre del canal?\");\n    if (nombreCanal) {\n      const docuRef = doc(firestore, `canales/${nombreCanal}`);\n      setDoc(docuRef, {\n        id: new Date().getTime(),\n        nombre: nombreCanal,\n      });\n\n      getCanales();\n    }\n  }\n\n  useEffect(() => {\n    getCanales();\n  }, []);\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar__top\">\n        <h3> Servidor de Game World</h3>\n        <ExpandMore />\n      </div>\n\n      <div className=\"sidebar__channels\">\n        <div className=\"sidebar__channelsHeader\">\n          <div className=\"sidebar__header\">\n            <ExpandMore />\n            <h4>Canales de texto</h4>\n          </div>\n\n          <Add className=\"sidebar__addChannel\" onClick={agregarCanal} />\n        </div>\n\n        <div className=\"sidebar__channelsList\">\n          {listaCanales\n            ? listaCanales.map((canal) => {\n                return (\n                  <div onClick={() => setCanalActivo(canal.nombre)}>\n                    <CanalEnSidebar nombre={canal.nombre} id={canal.id} />\n                  </div>\n                );\n              })\n            : null}\n        </div>\n      </div>\n\n      <div className=\"sidebar__profile\">\n        <Avatar src={usuarioGlobal.photoURL} />\n        <div className=\"sidebar__profileInfo\">\n          <h3>{usuarioGlobal.displayName}</h3>\n        </div>\n        <div className=\"sidebar__profileIcons\">\n          <Settings onClick={() => signOut(auth)} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Sidebar;\n","/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/views/Login.js",[],"/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/views/ChatScreen.js",["82","83","84","85","86"],"/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/firebase/credenciales.js",[],"/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/components/CanalEnSidebar.js",[],"/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/components/Mensaje.js",[],"/Users/pedroleridanieto/Downloads/tutoriales-master/09-chat-estilo-discord/src/components/EncabezadoChat.js",[],"/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/index.js",[],"/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/App.js",[],"/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/views/Login.js",[],"/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/views/ChatScreen.js",["87","88","89","90","91"],"import React, { useState, useEffect, useRef } from \"react\";\n\nimport { AddCircle, CreditCard, Gif, EmojiEmotions } from \"@material-ui/icons\";\nimport EncabezadoChat from \"../components/EncabezadoChat\";\nimport Mensaje from \"../components/Mensaje\";\n\nimport firebaseApp from \"../firebase/credenciales\";\nimport {\n  getFirestore,\n  doc,\n  setDoc,\n  collection,\n  getDocs,\n} from \"firebase/firestore\";\nconst firestore = getFirestore(firebaseApp);\n\nfunction ChatScreen({ canalActivo, usuario }) {\n  const [inputMensaje, setInputMensaje] = useState(\"\");\n  const [listaMensajes, setListaMensajes] = useState([]);\n\n  const anchor = useRef();\n\n  function filtrarContenido(textoOriginal) {\n    const noOK = [\"tonto\", \"hdp\", \"mk\"];\n\n    const array = textoOriginal.split(\" \");\n    array.forEach((palabra, index) => {\n      if (noOK.includes(palabra)) {\n        array[index] = \"****\";\n      }\n    });\n\n    return array.join(\" \");\n  }\n\n  function enviarMensaje(e) {\n    e.preventDefault();\n    const docuRef = doc(\n      firestore,\n      `canales/${canalActivo}/mensajes/${new Date().getTime()}`\n    );\n\n    const mensajeFiltrado = filtrarContenido(inputMensaje);\n\n    setDoc(docuRef, {\n      foto: usuario.photoURL,\n      usuario: usuario.displayName,\n      mensaje: mensajeFiltrado,\n      id: new Date().getTime(),\n    });\n\n    setInputMensaje(\"\");\n    getListaMensajes();\n    anchor.current.scrollIntoView({ behavior: \"smooth\" });\n  }\n\n  async function getListaMensajes() {\n    const mensajesArr = [];\n\n    const coleccionRef = collection(\n      firestore,\n      `canales/${canalActivo}/mensajes`\n    );\n    const mensajesJeroglificos = await getDocs(coleccionRef);\n    mensajesJeroglificos.forEach((mensaje) => {\n      mensajesArr.push(mensaje.data());\n    });\n\n    setListaMensajes([...mensajesArr]);\n  }\n\n  useEffect(() => {\n    getListaMensajes();\n  }, [canalActivo]);\n\n  return (\n    <div className=\"chat\">\n      <EncabezadoChat nombreCanal={canalActivo} />\n\n      <div className=\"chat__messages\">\n        {listaMensajes\n          ? listaMensajes.map((mensaje) => {\n              return <Mensaje mensajeFirebase={mensaje} key={mensaje.id} />;\n            })\n          : null}\n        <div ref={anchor} style={{ marginBottom: \"75px\" }}></div>\n      </div>\n\n      <div className=\"chat__input\">\n        <form onSubmit={enviarMensaje}>\n          <input\n            type=\"text\"\n            disabled={canalActivo ? false : true}\n            value={inputMensaje}\n            onChange={(e) => setInputMensaje(e.target.value)}\n            placeholder={`Enviar mensaje a # ${canalActivo || \"\"}`}\n          />\n          <button\n            disabled={canalActivo ? false : true}\n            className=\"chat__inputButton\"\n            type=\"submit\"\n          >\n            Enviar Mensaje\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default ChatScreen;\n","/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/views/Sidebar.js",["92","93"],"/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/firebase/credenciales.js",[],"/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/components/EncabezadoChat.js",[],"/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/components/Mensaje.js",[],"/Users/pedroleridanieto/Desktop/game_trabajo_final /chat-firebase/src/components/CanalEnSidebar.js",[],{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","replacedBy":"97"},{"ruleId":"98","severity":1,"message":"99","line":4,"column":27,"nodeType":"100","messageId":"101","endLine":4,"endColumn":30},{"ruleId":"98","severity":1,"message":"102","line":4,"column":42,"nodeType":"100","messageId":"101","endLine":4,"endColumn":49},{"ruleId":"98","severity":1,"message":"103","line":3,"column":10,"nodeType":"100","messageId":"101","endLine":3,"endColumn":19},{"ruleId":"98","severity":1,"message":"104","line":3,"column":21,"nodeType":"100","messageId":"101","endLine":3,"endColumn":31},{"ruleId":"98","severity":1,"message":"105","line":3,"column":33,"nodeType":"100","messageId":"101","endLine":3,"endColumn":36},{"ruleId":"98","severity":1,"message":"106","line":3,"column":38,"nodeType":"100","messageId":"101","endLine":3,"endColumn":51},{"ruleId":"107","severity":1,"message":"108","line":74,"column":6,"nodeType":"109","endLine":74,"endColumn":19,"suggestions":"110"},{"ruleId":"98","severity":1,"message":"103","line":3,"column":10,"nodeType":"100","messageId":"101","endLine":3,"endColumn":19},{"ruleId":"98","severity":1,"message":"104","line":3,"column":21,"nodeType":"100","messageId":"101","endLine":3,"endColumn":31},{"ruleId":"98","severity":1,"message":"105","line":3,"column":33,"nodeType":"100","messageId":"101","endLine":3,"endColumn":36},{"ruleId":"98","severity":1,"message":"106","line":3,"column":38,"nodeType":"100","messageId":"101","endLine":3,"endColumn":51},{"ruleId":"107","severity":1,"message":"108","line":74,"column":6,"nodeType":"109","endLine":74,"endColumn":19,"suggestions":"111"},{"ruleId":"98","severity":1,"message":"99","line":4,"column":27,"nodeType":"100","messageId":"101","endLine":4,"endColumn":30},{"ruleId":"98","severity":1,"message":"102","line":4,"column":42,"nodeType":"100","messageId":"101","endLine":4,"endColumn":49},"no-native-reassign",["112"],"no-negated-in-lhs",["113"],"no-unused-vars","'Mic' is defined but never used.","Identifier","unusedVar","'Headset' is defined but never used.","'AddCircle' is defined but never used.","'CreditCard' is defined but never used.","'Gif' is defined but never used.","'EmojiEmotions' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getListaMensajes'. Either include it or remove the dependency array.","ArrayExpression",["114"],["115"],"no-global-assign","no-unsafe-negation",{"desc":"116","fix":"117"},{"desc":"116","fix":"118"},"Update the dependencies array to be: [canalActivo, getListaMensajes]",{"range":"119","text":"120"},{"range":"121","text":"120"},[1843,1856],"[canalActivo, getListaMensajes]",[1843,1856]]